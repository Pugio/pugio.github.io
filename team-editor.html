<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0,
    maximum-scale=8.0, minimum-scale=.25, user-scalable=yes"
    />
    <title>Tenares Team Sheet</title>
  </head>
  <body>
    <style>
      /*
      I originally forgot to clear the body's margin, so all values ended up
      having an extra 8px added to them. Rather than rewrite the CSS, I added
      in an --offset variable.
      */
      :root {
        --offset: -8px;
        --footer-height: 30px;
        --sheet-height: 1103.5px;
        --sheet-width: 853.5px;
      }

      body {
        margin: 0;
        /* padding-bottom: var(--footer-height); */
      }

      *,
      *:before,
      *:after {
        box-sizing: border-box;
      }

      * {
        -webkit-print-color-adjust: exact !important; /* Chrome, Safari, Edge */
        color-adjust: exact !important; /* Firefox */
      }

      .sheet {
        background: url("tanares-guide.png");
        background-size: cover;
        width: var(--sheet-width);
        height: var(--sheet-height);
        position: relative;
      }

      input,
      textarea {
        background: transparent;
        border: 0px solid black;
        text-align: center;
        position: absolute;
        resize: none;
      }

      #coat-of-arms-upload {
        font-family: sans-serif;
        left: 341px;
        top: 259px;
        width: 170px;
        height: 140px;
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      #coat-of-arms-upload.selected {
        border-color: purple;
        border: 2px solid;
      }

      #coat-of-arms-upload.highlight {
        border-color: blueviolet;
        background-color: aquamarine;
      }

      #coat-of-arms-upload.has-image > #coat-of-arms-default {
        display: none;
      }

      #coat-of-arms-upload > button.coat-of-arms-delete {
        display: none;
      }

      #coat-of-arms-upload.selected > button.coat-of-arms-delete {
        display: block;
        z-index: 2;
      }

      .coat-of-arms-display {
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      #coat-of-arms-image {
        max-height: 100%;
        max-width: 100%;
        /* display: block; */
        /* margin: auto; */
      }

      /** TEAM HEADQUARTERS **/
      .team-headquarters {
        top: calc(636px + var(--offset));
        left: calc(73px + var(--offset));
        position: absolute;
        width: 728px;
        height: 200px;
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
        row-gap: 34px;
      }

      .style-check input {
        opacity: 0;
        width: 0;
        height: 0;
      }

      .style-check input:checked + .style-check-control {
        background: radial-gradient(rgb(153 10 23) 100%, rgb(57 31 1) 0%);
        border: 2px solid #bc382f;
      }

      .style-check-control {
        display: block;
        width: 12px;
        height: 12px;
        border-radius: 50%;
      }

      .style-check {
        position: absolute;
        left: 110px;
        display: flex;
        justify-content: space-between;
        width: 42px;
      }

      .team-hq-block {
        position: relative;
        width: 152px;
        height: 181px;
      }

      .team-hq-block input {
        text-align: left;
        color: #371510;
        background: transparent;
        font-variant: small-caps;
        font-weight: bold;
        font-family: Garamond, serif;
        width: 103px;
        padding-left: 0px;
      }

      .hq-info {
        width: 145px;
        font-size: 11px;
        text-align: left;
      }

      .facility-name {
        top: -5px;
      }

      .facility-check {
        top: 0px;
      }

      .facility-info {
        top: 25px;
        height: 67px;
      }

      .staff-name {
        top: 100px;
      }

      .staff-check {
        top: 101px;
      }

      .staff-info {
        top: 129px;
        height: 52px;
      }
    </style>
    <div class="sheet">
      <form id="team-sheet">
        <input
          type="text"
          name="team-name"
          id="team-name"
          style="
            top: calc(73px + var(--offset));
            left: calc(70px + var(--offset));
            width: 273px;
            font-size: 22px;
          "
        />
        <input
          type="number"
          name="career-points"
          id="career-points"
          style="
            width: 50px;
            top: calc(97px + var(--offset));
            left: calc(415px + var(--offset));
            font-size: 22px;
          "
        />
        <textarea
          name="team-members"
          id="team-members"
          style="
            width: 290px;
            top: calc(76px + var(--offset));
            left: calc(515px + var(--offset));
            height: 55px;
          "
        ></textarea>
        <textarea
          name="features"
          id="features"
          style="
            width: 157px;
            top: calc(182px + var(--offset));
            left: calc(60px + var(--offset));
            height: 266px;
          "
        ></textarea>
        <input
          type="number"
          name="faculty-staff-fame"
          id="faculty-staff-fame"
          style="
            width: 34px;
            top: calc(183px + var(--offset));
            left: calc(268px + var(--offset));
            font-size: 22px;
          "
        />
        <input
          type="number"
          name="fame"
          id="fame"
          style="
            width: 50px;
            top: calc(183px + var(--offset));
            left: calc(335px + var(--offset));
            font-size: 22px;
          "
        />
        <input
          type="number"
          name="level"
          id="level"
          style="
            width: 50px;
            top: calc(178px + var(--offset));
            left: calc(418px + var(--offset));
            font-size: 32px;
          "
        />
        <input
          type="number"
          name="prestige"
          id="prestige"
          style="
            width: 50px;
            top: calc(183px + var(--offset));
            left: calc(485px + var(--offset));
            font-size: 22px;
          "
        />
        <input
          type="number"
          name="staff-prestige"
          id="staff-prestige"
          style="
            width: 34px;
            top: calc(183px + var(--offset));
            left: calc(581px + var(--offset));
            font-size: 22px;
          "
        />
        <input
          type="text"
          name="beneficiary"
          id="beneficiary"
          style="
            top: calc(174px + var(--offset));
            left: calc(648px + var(--offset));
            width: 162px;
            font-size: 17px;
            background: transparent;
            font-variant: small-caps;
          "
        />
        <input
          type="text"
          name="style"
          id="style"
          style="
            top: calc(204px + var(--offset));
            left: calc(648px + var(--offset));
            width: 162px;
            font-size: 17px;
            background: transparent;
          "
        />

        <div id="coat-of-arms-upload">
          <div
            id="coat-of-arms-default"
            style="color: gray; text-align: center"
          >
            Drag &amp; Drop Image<br />
            (170px x 140px)
          </div>

          <div class="coat-of-arms-display">
            <img id="coat-of-arms-image" />
          </div>

          <button
            class="coat-of-arms-delete"
            style="
              background-color: #cccccccc;
              border: 5px solid #ddd;
              font-weight: bold;
              border-radius: 5px;
            "
            onclick="removeCoatOfArms(event)"
          >
            REMOVE
          </button>
        </div>

        <script>
          let dropArea = document.getElementById("coat-of-arms-upload");
          let coat_of_arms_image =
            document.getElementById("coat-of-arms-image");

          coat_of_arms_image.addEventListener("load", (e) => {
            if (
              coat_of_arms_image.naturalWidth > dropArea.offsetWidth * 2 ||
              coat_of_arms_image.naturalHeight > dropArea.offsetHeight * 2
            )
              alert(
                `You have chosen a very large image for your coat of arms.
This will take up a lot more space when storing this file.
Consider rescaling your coat of arms to no more than
${dropArea.offsetWidth * 2} x ${dropArea.offsetHeight * 2} pixels.`
              );
          });

          ["dragenter", "dragover", "dragleave", "drop"].forEach((eventName) =>
            dropArea.addEventListener(eventName, preventDefaults, false)
          );

          function preventDefaults(e) {
            e.preventDefault();
            e.stopPropagation();
          }

          ["dragenter", "dragover"].forEach((eventName) =>
            dropArea.addEventListener(eventName, highlight, false)
          );

          ["dragleave", "drop"].forEach((eventName) =>
            dropArea.addEventListener(eventName, unhighlight, false)
          );

          function highlight(e) {
            dropArea.classList.add("highlight");
          }

          function unhighlight(e) {
            dropArea.classList.remove("highlight");
          }

          dropArea.addEventListener("drop", handleDrop, false);

          function handleDrop(e) {
            let dt = e.dataTransfer;
            let files = dt.files;

            handleFiles(files);
          }

          function handleFiles(files) {
            // [...files].forEach(previewFile);
            previewFile(files[0]);
          }

          function previewFile(file) {
            let reader = new FileReader();

            reader.readAsDataURL(file);
            reader.onloadend = (r) => set_coat_of_arms(reader.result);
          }

          function set_coat_of_arms(src) {
            let upload_el = document.getElementById("coat-of-arms-upload");

            if (src) {
              coat_of_arms_image.src = src;
              upload_el.classList.add("has-image");
            } else {
              coat_of_arms_image.removeAttribute("src");
              upload_el.classList.remove("has-image");
            }

            saveSheet();
          }

          let drop_area_selected = false;
          function handleDropClick(e) {
            if (!coat_of_arms_image.src) return;

            drop_area_selected = !drop_area_selected;

            if (drop_area_selected) select_drop_area();
            else unselect_drop_area();

            e.preventDefault();
          }

          function select_drop_area() {
            dropArea.classList.add("selected");
          }

          function unselect_drop_area() {
            dropArea.classList.remove("selected");
          }

          function removeCoatOfArms(e) {
            set_coat_of_arms("");
            unselect_drop_area();

            e.stopPropagation();
            e.preventDefault();
          }

          dropArea.addEventListener("touchstart", handleDropClick);
          dropArea.addEventListener("click", handleDropClick);
        </script>

        <input
          type="text"
          name="specialization"
          id="specialization"
          style="
            top: calc(231px + var(--offset));
            left: calc(648px + var(--offset));
            width: 162px;
            font-size: 17px; /* background: transparent; */
          "
        />
        <textarea
          name="feats"
          id="feats"
          style="
            width: 157px;
            top: calc(488px + var(--offset));
            left: calc(60px + var(--offset));
            height: 66px;
          "
        ></textarea>
        <textarea
          name="dream"
          id="dream"
          style="
            top: calc(282px + var(--offset));
            left: calc(648px + var(--offset));
            width: 162px;
            font-size: 17px;
            height: 67px;
          "
        ></textarea>
        <textarea
          name="hidden-agenda"
          id="hidden-agenda"
          style="
            top: calc(385px + var(--offset));
            left: calc(648px + var(--offset));
            width: 162px;
            font-size: 17px;
            height: 67px;
          "
        ></textarea>
        <textarea
          name="relations"
          id="relations"
          style="
            width: 338px;
            top: calc(452px + var(--offset));
            left: calc(266px + var(--offset));
            height: 93px;
          "
        ></textarea>
        <textarea
          name="legendary-rewards"
          id="legendary-rewards"
          style="
            top: calc(488px + var(--offset));
            left: calc(648px + var(--offset));
            width: 162px;
            font-size: 17px;
            height: 67px;
          "
        ></textarea>

        <!-- TEAM HEADQUARTERS -->
        <div class="team-headquarters">
          <div class="team-hq-block">
            <span class="style-check facility-check">
              <label for="hq-block-1-facility-check-1">
                <input
                  type="checkbox"
                  name="hq-block-1-facility-check-1"
                  id="hq-block-1-facility-check-1"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-1-facility-check-2">
                <input
                  type="checkbox"
                  name="hq-block-1-facility-check-2"
                  id="hq-block-1-facility-check-2"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-1-facility-check-3">
                <input
                  type="checkbox"
                  name="hq-block-1-facility-check-3"
                  id="hq-block-1-facility-check-3"
                />
                <span class="style-check-control"></span>
              </label>
            </span>

            <textarea
              name="hq-block-1-facility-info"
              id="hq-block-1-facility-info"
              class="hq-info facility-info"
            ></textarea>
            <span class="style-check staff-check">
              <label for="hq-block-1-staff-check-1">
                <input
                  type="checkbox"
                  name="hq-block-1-staff-check-1"
                  id="hq-block-1-staff-check-1"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-1-staff-check-2">
                <input
                  type="checkbox"
                  name="hq-block-1-staff-check-2"
                  id="hq-block-1-staff-check-2"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-1-staff-check-3">
                <input
                  type="checkbox"
                  name="hq-block-1-staff-check-3"
                  id="hq-block-1-staff-check-3"
                />
                <span class="style-check-control"></span>
              </label>
            </span>

            <textarea
              name="butler"
              id="butler"
              class="hq-info staff-info"
            ></textarea>
          </div>

          <div class="team-hq-block">
            <input
              type="text"
              class="facility-name"
              name="hq-block-2-facility-name"
            />

            <span class="style-check facility-check">
              <label for="hq-block-2-facility-check-1">
                <input
                  type="checkbox"
                  name="hq-block-2-facility-check-1"
                  id="hq-block-2-facility-check-1"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-2-facility-check-2">
                <input
                  type="checkbox"
                  name="hq-block-2-facility-check-2"
                  id="hq-block-2-facility-check-2"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-2-facility-check-3">
                <input
                  type="checkbox"
                  name="hq-block-2-facility-check-3"
                  id="hq-block-2-facility-check-3"
                />
                <span class="style-check-control"></span>
              </label>
            </span>

            <textarea
              name="hq-block-2-facility-info"
              id="hq-block-2-facility-info"
              class="hq-info facility-info"
            ></textarea>

            <input
              type="text"
              class="staff-name"
              name="hq-block-2-staff-name"
            />
            <span class="style-check staff-check">
              <label for="hq-block-2-staff-check-1">
                <input
                  type="checkbox"
                  name="hq-block-2-staff-check-1"
                  id="hq-block-2-staff-check-1"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-2-staff-check-2">
                <input
                  type="checkbox"
                  name="hq-block-2-staff-check-2"
                  id="hq-block-2-staff-check-2"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-2-staff-check-3">
                <input
                  type="checkbox"
                  name="hq-block-2-staff-check-3"
                  id="hq-block-2-staff-check-3"
                />
                <span class="style-check-control"></span>
              </label>
            </span>

            <textarea
              name="hq-block-2-staff-info"
              id="hq-block-2-staff-info"
              class="hq-info staff-info"
            ></textarea>
          </div>

          <div class="team-hq-block">
            <input
              type="text"
              class="facility-name"
              name="hq-block-3-facility-name"
            />

            <span class="style-check facility-check">
              <label for="hq-block-3-facility-check-1">
                <input
                  type="checkbox"
                  name="hq-block-3-facility-check-1"
                  id="hq-block-3-facility-check-1"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-3-facility-check-2">
                <input
                  type="checkbox"
                  name="hq-block-3-facility-check-2"
                  id="hq-block-3-facility-check-2"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-3-facility-check-3">
                <input
                  type="checkbox"
                  name="hq-block-3-facility-check-3"
                  id="hq-block-3-facility-check-3"
                />
                <span class="style-check-control"></span>
              </label>
            </span>

            <textarea
              name="hq-block-3-facility-info"
              id="hq-block-3-facility-info"
              class="hq-info facility-info"
            ></textarea>

            <input
              type="text"
              class="staff-name"
              name="hq-block-3-staff-name"
            />
            <span class="style-check staff-check">
              <label for="hq-block-3-staff-check-1">
                <input
                  type="checkbox"
                  name="hq-block-3-staff-check-1"
                  id="hq-block-3-staff-check-1"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-3-staff-check-2">
                <input
                  type="checkbox"
                  name="hq-block-3-staff-check-2"
                  id="hq-block-3-staff-check-2"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-3-staff-check-3">
                <input
                  type="checkbox"
                  name="hq-block-3-staff-check-3"
                  id="hq-block-3-staff-check-3"
                />
                <span class="style-check-control"></span>
              </label>
            </span>

            <textarea
              name="hq-block-3-staff-info"
              id="hq-block-3-staff-info"
              class="hq-info staff-info"
            ></textarea>
          </div>

          <div class="team-hq-block">
            <input
              type="text"
              class="facility-name"
              name="hq-block-4-facility-name"
            />

            <span class="style-check facility-check">
              <label for="hq-block-4-facility-check-1">
                <input
                  type="checkbox"
                  name="hq-block-4-facility-check-1"
                  id="hq-block-4-facility-check-1"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-4-facility-check-2">
                <input
                  type="checkbox"
                  name="hq-block-4-facility-check-2"
                  id="hq-block-4-facility-check-2"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-4-facility-check-3">
                <input
                  type="checkbox"
                  name="hq-block-4-facility-check-3"
                  id="hq-block-4-facility-check-3"
                />
                <span class="style-check-control"></span>
              </label>
            </span>

            <textarea
              name="hq-block-4-facility-info"
              id="hq-block-4-facility-info"
              class="hq-info facility-info"
            ></textarea>

            <input
              type="text"
              class="staff-name"
              name="hq-block-4-staff-name"
            />
            <span class="style-check staff-check">
              <label for="hq-block-4-staff-check-1">
                <input
                  type="checkbox"
                  name="hq-block-4-staff-check-1"
                  id="hq-block-4-staff-check-1"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-4-staff-check-2">
                <input
                  type="checkbox"
                  name="hq-block-4-staff-check-2"
                  id="hq-block-4-staff-check-2"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-4-staff-check-3">
                <input
                  type="checkbox"
                  name="hq-block-4-staff-check-3"
                  id="hq-block-4-staff-check-3"
                />
                <span class="style-check-control"></span>
              </label>
            </span>

            <textarea
              name="hq-block-4-staff-info"
              id="hq-block-4-staff-info"
              class="hq-info staff-info"
            ></textarea>
          </div>

          <div class="team-hq-block">
            <input
              type="text"
              class="facility-name"
              name="hq-block-5-facility-name"
            />

            <span class="style-check facility-check">
              <label for="hq-block-5-facility-check-1">
                <input
                  type="checkbox"
                  name="hq-block-5-facility-check-1"
                  id="hq-block-5-facility-check-1"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-5-facility-check-2">
                <input
                  type="checkbox"
                  name="hq-block-5-facility-check-2"
                  id="hq-block-5-facility-check-2"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-5-facility-check-3">
                <input
                  type="checkbox"
                  name="hq-block-5-facility-check-3"
                  id="hq-block-5-facility-check-3"
                />
                <span class="style-check-control"></span>
              </label>
            </span>

            <textarea
              name="hq-block-5-facility-info"
              id="hq-block-5-facility-info"
              class="hq-info facility-info"
            ></textarea>

            <input
              type="text"
              class="staff-name"
              name="hq-block-5-staff-name"
            />
            <span class="style-check staff-check">
              <label for="hq-block-5-staff-check-1">
                <input
                  type="checkbox"
                  name="hq-block-5-staff-check-1"
                  id="hq-block-5-staff-check-1"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-5-staff-check-2">
                <input
                  type="checkbox"
                  name="hq-block-5-staff-check-2"
                  id="hq-block-5-staff-check-2"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-5-staff-check-3">
                <input
                  type="checkbox"
                  name="hq-block-5-staff-check-3"
                  id="hq-block-5-staff-check-3"
                />
                <span class="style-check-control"></span>
              </label>
            </span>

            <textarea
              name="hq-block-5-staff-info"
              id="hq-block-5-staff-info"
              class="hq-info staff-info"
            ></textarea>
          </div>

          <div class="team-hq-block">
            <input
              type="text"
              class="facility-name"
              name="hq-block-6-facility-name"
            />

            <span class="style-check facility-check">
              <label for="hq-block-6-facility-check-1">
                <input
                  type="checkbox"
                  name="hq-block-6-facility-check-1"
                  id="hq-block-6-facility-check-1"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-6-facility-check-2">
                <input
                  type="checkbox"
                  name="hq-block-6-facility-check-2"
                  id="hq-block-6-facility-check-2"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-6-facility-check-3">
                <input
                  type="checkbox"
                  name="hq-block-6-facility-check-3"
                  id="hq-block-6-facility-check-3"
                />
                <span class="style-check-control"></span>
              </label>
            </span>

            <textarea
              name="hq-block-6-facility-info"
              id="hq-block-6-facility-info"
              class="hq-info facility-info"
            ></textarea>

            <input
              type="text"
              class="staff-name"
              name="hq-block-6-staff-name"
            />
            <span class="style-check staff-check">
              <label for="hq-block-6-staff-check-1">
                <input
                  type="checkbox"
                  name="hq-block-6-staff-check-1"
                  id="hq-block-6-staff-check-1"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-6-staff-check-2">
                <input
                  type="checkbox"
                  name="hq-block-6-staff-check-2"
                  id="hq-block-6-staff-check-2"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-6-staff-check-3">
                <input
                  type="checkbox"
                  name="hq-block-6-staff-check-3"
                  id="hq-block-6-staff-check-3"
                />
                <span class="style-check-control"></span>
              </label>
            </span>

            <textarea
              name="hq-block-6-staff-info"
              id="hq-block-6-staff-info"
              class="hq-info staff-info"
            ></textarea>
          </div>

          <div class="team-hq-block">
            <input
              type="text"
              class="facility-name"
              name="hq-block-7-facility-name"
            />

            <span class="style-check facility-check">
              <label for="hq-block-7-facility-check-1">
                <input
                  type="checkbox"
                  name="hq-block-7-facility-check-1"
                  id="hq-block-7-facility-check-1"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-7-facility-check-2">
                <input
                  type="checkbox"
                  name="hq-block-7-facility-check-2"
                  id="hq-block-7-facility-check-2"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-7-facility-check-3">
                <input
                  type="checkbox"
                  name="hq-block-7-facility-check-3"
                  id="hq-block-7-facility-check-3"
                />
                <span class="style-check-control"></span>
              </label>
            </span>

            <textarea
              name="hq-block-7-facility-info"
              id="hq-block-7-facility-info"
              class="hq-info facility-info"
            ></textarea>

            <input
              type="text"
              class="staff-name"
              name="hq-block-7-staff-name"
            />
            <span class="style-check staff-check">
              <label for="hq-block-7-staff-check-1">
                <input
                  type="checkbox"
                  name="hq-block-7-staff-check-1"
                  id="hq-block-7-staff-check-1"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-7-staff-check-2">
                <input
                  type="checkbox"
                  name="hq-block-7-staff-check-2"
                  id="hq-block-7-staff-check-2"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-7-staff-check-3">
                <input
                  type="checkbox"
                  name="hq-block-7-staff-check-3"
                  id="hq-block-7-staff-check-3"
                />
                <span class="style-check-control"></span>
              </label>
            </span>

            <textarea
              name="hq-block-7-staff-info"
              id="hq-block-7-staff-info"
              class="hq-info staff-info"
            ></textarea>
          </div>

          <div class="team-hq-block">
            <input
              type="text"
              class="facility-name"
              name="hq-block-8-facility-name"
            />

            <span class="style-check facility-check">
              <label for="hq-block-8-facility-check-1">
                <input
                  type="checkbox"
                  name="hq-block-8-facility-check-1"
                  id="hq-block-8-facility-check-1"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-8-facility-check-2">
                <input
                  type="checkbox"
                  name="hq-block-8-facility-check-2"
                  id="hq-block-8-facility-check-2"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-8-facility-check-3">
                <input
                  type="checkbox"
                  name="hq-block-8-facility-check-3"
                  id="hq-block-8-facility-check-3"
                />
                <span class="style-check-control"></span>
              </label>
            </span>

            <textarea
              name="hq-block-8-facility-info"
              id="hq-block-8-facility-info"
              class="hq-info facility-info"
            ></textarea>

            <input
              type="text"
              class="staff-name"
              name="hq-block-8-staff-name"
            />
            <span class="style-check staff-check">
              <label for="hq-block-8-staff-check-1">
                <input
                  type="checkbox"
                  name="hq-block-8-staff-check-1"
                  id="hq-block-8-staff-check-1"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-8-staff-check-2">
                <input
                  type="checkbox"
                  name="hq-block-8-staff-check-2"
                  id="hq-block-8-staff-check-2"
                />
                <span class="style-check-control"></span>
              </label>
              <label for="hq-block-8-staff-check-3">
                <input
                  type="checkbox"
                  name="hq-block-8-staff-check-3"
                  id="hq-block-8-staff-check-3"
                />
                <span class="style-check-control"></span>
              </label>
            </span>

            <textarea
              name="hq-block-8-staff-info"
              id="hq-block-8-staff-info"
              class="hq-info staff-info"
            ></textarea>
          </div>
        </div>
      </form>
    </div>
    <!-- 
    <div
      id="footer"
      style="
        width: 100%;
        background: #791111;
        position: fixed;
        bottom: 0;
        max-width: 853.5px;
        height: var(--footer-height);
        display: flex;
        align-items: center;
        justify-content: center;
      "
    >
      <button
        style="
          background: #9c1e1b;
          color: white;
          border: 2px solid #cfb466;
          border-radius: 5px;
          font-family: Garamond, serif;
          font-weight: bold;
        "
        onclick="saveSheet();"
      >
        SAVE
      </button>
    </div> -->

    <script>
      const STORAGE_KEY = "team-sheet";
      let sheet_form = document.forms["team-sheet"];

      sheet_form.addEventListener("change", function () {
        setTimeout(saveSheet, 0);
      });

      function convertSheetToJson() {
        let form_data = new FormData(sheet_form);
        let data = {};
        form_data.forEach((value, key) => (data[key] = value));

        data.coat_of_arms_image = coat_of_arms_image.src;

        return JSON.stringify(data);
      }

      function saveSheet() {
        localStorage.setItem(STORAGE_KEY, convertSheetToJson());
      }

      function restoreSheet() {
        let stored = localStorage.getItem(STORAGE_KEY);

        if (!stored) return;

        let data = JSON.parse(stored);

        for (let key in data) {
          if (!sheet_form[key]) continue;

          if (sheet_form[key].checked === undefined)
            sheet_form[key].value = data[key];
          else sheet_form[key].checked = data[key] === "on";
        }

        if (data.coat_of_arms_image) set_coat_of_arms(data.coat_of_arms_image);
      }

      restoreSheet();
    </script>
  </body>
</html>
